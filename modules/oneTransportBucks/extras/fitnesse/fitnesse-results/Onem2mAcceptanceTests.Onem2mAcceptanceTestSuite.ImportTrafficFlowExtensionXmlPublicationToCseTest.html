<html><head><title>Onem2mAcceptanceTests.Onem2mAcceptanceTestSuite.ImportTrafficFlowExtensionXmlPublicationToCseTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>Onem2mAcceptanceTests.Onem2mAcceptanceTestSuite.ImportTrafficFlowExtensionXmlPublicationToCseTest</h2></header><article><div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Included page: <a href="Onem2mAcceptanceTests.Onem2mAcceptanceTestSuite.SetUp">.Onem2mAcceptanceTests.Onem2mAcceptanceTestSuite.SetUp</a> <a href="Onem2mAcceptanceTests.Onem2mAcceptanceTestSuite.SetUp?edit&amp;redirectToReferer=true&amp;redirectAction=" class="edit">(edit)</a></p>
	<div><table>
	<tr class="slimRowTitle">
		<td>import</td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">com.interdigital.onem2m.acceptance.fixture</span></td>
	</tr>
	<tr class="slimRowColor1">
		<td><span class="pass">com.interdigital.onem2m.acceptance.fixture.bcccloudamber</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">com.interdigital.onem2m.acceptance.fixture.xmlpublish</span></td>
	</tr>
	<tr class="slimRowColor1">
		<td><span class="pass">com.interdigital.onem2m.acceptance.fixture.csequery</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">com.interdigital.onem2m.acceptance.fixture.configure</span></td>
	</tr>
</table>
<br/><br/><table>
	<tr class="slimRowTitle">
		<td colspan="6"><span class="pass">Cse Configuration</span></td>
	</tr>
	<tr class="slimRowTitle">
		<td>name</td>
		<td>resource id</td>
		<td>scheme</td>
		<td>host</td>
		<td>port</td>
		<td>configured?</td>
	</tr>
	<tr class="slimRowColor1">
		<td>ONETCSE01</td>
		<td>ONET-CSE-01</td>
		<td>http</td>
		<td>127.0.0.1</td>
		<td>9011</td>
		<td><span class="pass">true</span></td>
	</tr>
</table>
<br/><br/></div>
</div>
<br/><h1>A traffic flow extension record imported into one2m creates an appropriate structure in the CSE</h1>
<br/>A Buckinghamshire County Council traffic flow extension record imported by a data feed creates the following structure in the CSE<br/><br/><hr/>
<br/><h3>Given a traffic flow extension publication from BCC:</h3>
<br/><table>
	<tr class="slimRowTitle">
		<td colspan="4"><span class="pass">Traffic Flow Extension Xml Publication</span></td>
	</tr>
	<tr class="slimRowTitle">
		<td>payload publication</td>
		<td>national identifier</td>
		<td>publication time</td>
		<td>created?</td>
	</tr>
	<tr class="slimRowColor1">
		<td>ElaboratedDataPublication</td>
		<td>Buckinghamshire County</td>
		<td>2016-02-29T10:09:48+00:00</td>
		<td><span class="pass">true</span></td>
	</tr>
</table>
<br/><h3>Containing:</h3>
<br/><table>
	<tr class="slimRowTitle">
		<td colspan="6"><span class="pass">Traffic Queue Items</span></td>
	</tr>
	<tr class="slimRowTitle">
		<td>elaborated data id</td>
		<td>predefined location reference</td>
		<td>queueSeverity</td>
		<td>queuePresent</td>
		<td>time</td>
		<td>created?</td>
	</tr>
	<tr class="slimRowColor1">
		<td>GUID-Queue-BUCK-76SW1</td>
		<td>LINKBUCK-76SW1</td>
		<td>0</td>
		<td>N</td>
		<td>2016-02-29T10:08:07+00:00</td>
		<td><span class="pass">true</span></td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td colspan="10"><span class="pass">Traffic Scoot Items</span></td>
	</tr>
	<tr class="slimRowTitle">
		<td>elaborated data id</td>
		<td>predefined location reference</td>
		<td>congestionPercent</td>
		<td>averageSpeed</td>
		<td>current flow</td>
		<td>linkStatus</td>
		<td>linkStatusType</td>
		<td>linkTravelTime</td>
		<td>time</td>
		<td>created?</td>
	</tr>
	<tr class="slimRowColor1">
		<td>GUID-Scoot-BUCK-N11121S</td>
		<td>LINKBUCK-N11121S</td>
		<td>0</td>
		<td>0</td>
		<td>0</td>
		<td>0</td>
		<td>0</td>
		<td>12</td>
		<td>2016-02-29T10:08:07+00:00</td>
		<td><span class="pass">true</span></td>
	</tr>
</table>
<br/><h3>And an Application Entity in the CSE:</h3>
<table>
	<tr class="slimRowTitle">
		<td colspan="2"><span class="pass">Ae Configuration</span></td>
	</tr>
	<tr class="slimRowTitle">
		<td>name</td>
		<td>configured?</td>
	</tr>
	<tr class="slimRowColor1">
		<td>C-BCCTrafficFlowExtensionFeedImport</td>
		<td><span class="pass">true</span></td>
	</tr>
</table>
<br/><br/><h3>When the publication is imported:</h3>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">import traffic flow extension xml publication</span></td>
		<td>ElaboratedDataPublication</td>
		<td>Buckinghamshire County</td>
		<td>2016-02-29T10:09:48+00:00</td>
	</tr>
	<tr class="slimRowColor8">
		<td><span class="pass">ensure</span></td>
		<td colspan="4">xml imported</td>
	</tr>
</table>
<br/><br/><br/><h3>Then the following containers and values should be created in the CSE:</h3>
<table>
	<tr class="slimRowTitle">
		<td><span class="pass">Query:Check Cse Container Json Content</span></td>
		<td colspan="2"></td>
	</tr>
	<tr class="slimRowTitle">
		<td>Container Path</td>
		<td>Content Value</td>
		<td>Json Matches</td>
	</tr>
	<tr class="slimRowColor1">
		<td><span class="pass">BCCTrafficFlowExtensionFeedImport/LINKBUCK-76SW1/trafficQueue</span></td>
		<td><span class="pass"> {
    "locationReference":"LINKBUCK-76SW1",
    "queuePresent":"N",
    "queueSeverity":"0"
} </span></td>
		<td><span class="pass">true</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">BCCTrafficFlowExtensionFeedImport/LINKBUCK-N11121S/trafficScoot</span></td>
		<td><span class="pass"> {
    "locationReference":"LINKBUCK-N11121S",
    "congestionPercent":"0",
    "currentFlow":"0",
    "averageSpeed":"0",
    "linkStatus":"0",
    "linkStatusType":"0",
    "linkTravelTime":"12"
} </span></td>
		<td><span class="pass">true</span></td>
	</tr>
</table>
<br/><br/><h3>And the following labels should be added to the CSE for data discovery:</h3>
<table>
	<tr class="slimRowTitle">
		<td><span class="pass">Query:Label Query Handler</span></td>
		<td colspan="2"></td>
	</tr>
	<tr class="slimRowTitle">
		<td>Container Path</td>
		<td>Labels Contain</td>
		<td>Result</td>
	</tr>
	<tr class="slimRowColor1">
		<td><span class="pass">BCCTrafficFlowExtensionFeedImport/LINKBUCK-76SW1/trafficQueue</span></td>
		<td><span class="pass">LINKBUCK-76SW1</span></td>
		<td><span class="pass">true</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">BCCTrafficFlowExtensionFeedImport/LINKBUCK-76SW1</span></td>
		<td><span class="pass">cloudamber:elaboratedData</span></td>
		<td><span class="pass">true</span></td>
	</tr>
	<tr class="slimRowColor1">
		<td><span class="pass">BCCTrafficFlowExtensionFeedImport/LINKBUCK-N11121S/trafficScoot</span></td>
		<td><span class="pass">LINKBUCK-N11121S</span></td>
		<td><span class="pass">true</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">BCCTrafficFlowExtensionFeedImport/LINKBUCK-N11121S</span></td>
		<td><span class="pass">cloudamber:elaboratedData</span></td>
		<td><span class="pass">true</span></td>
	</tr>
</table>
<br/><br/><br/><br/><div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Included page: <a href="Onem2mAcceptanceTests.Onem2mAcceptanceTestSuite.TearDown">.Onem2mAcceptanceTests.Onem2mAcceptanceTestSuite.TearDown</a> <a href="Onem2mAcceptanceTests.Onem2mAcceptanceTestSuite.TearDown?edit&amp;redirectToReferer=true&amp;redirectAction=" class="edit">(edit)</a></p>
	<div><table>
	<tr class="slimRowTitle">
		<td colspan="2"><span class="pass">script: clear feed import test</span></td>
	</tr>
	<tr class="slimRowColor8">
		<td><span class="pass">ensure</span></td>
		<td>cloud amber cleared</td>
	</tr>
	<tr class="slimRowColor8">
		<td><span class="pass">ensure</span></td>
		<td>application entity cleared</td>
	</tr>
</table>
</div>
</div>
</article></body></html>